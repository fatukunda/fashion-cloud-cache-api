{"version":3,"sources":["../../src/models/Cache.js"],"names":["cacheSchema","mongoose","Schema","ttl","type","Date","expires","now","content","String","Math","random","toString","substr","key","trim","unique","pre","next","cache","Cache","model"],"mappings":";;;;;;;;;AACA;;AAEA,IAAMA,WAAW,GAAGC,qBAASC,MAAT,CAAgB;AAClCC,EAAAA,GAAG,EAAE;AACHC,IAAAA,IAAI,EAAEC,IADH;AAEHC,IAAAA,OAAO,EAAE,MAFN;AAGH,eAASD,IAAI,CAACE;AAHX,GAD6B;AAMlCC,EAAAA,OAAO,EAAE;AACPJ,IAAAA,IAAI,EAAEK,MADC;AAEP,eAAUC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAlC,EAAqC,CAArC;AAFH,GANyB;AAUlCC,EAAAA,GAAG,EAAE;AACHV,IAAAA,IAAI,EAAEK,MADH;AAEHM,IAAAA,IAAI,EAAE,IAFH;AAGHC,IAAAA,MAAM,EAAE;AAHL;AAV6B,CAAhB,CAApB,C,CAgBA;;;AACAhB,WAAW,CAACiB,GAAZ,CAAgB,MAAhB,EAAwB,UAAUC,IAAV,EAAgB;AACtC;AACA,MAAMC,KAAK,GAAG,IAAd;AACAA,EAAAA,KAAK,CAAChB,GAAN,GAAY,IAAIE,IAAJ,EAAZ;AACAa,EAAAA,IAAI;AACL,CALD;;AAQA,IAAME,KAAK,GAAGnB,qBAASoB,KAAT,CAAe,OAAf,EAAwBrB,WAAxB,CAAd;;eAEeoB,K","sourcesContent":["\nimport mongoose from 'mongoose';\n\nconst cacheSchema = mongoose.Schema({\n  ttl: {\n    type: Date,\n    expires: '5000',\n    default: Date.now,\n  },\n  content: {\n    type: String,\n    default: (Math.random().toString(36).substr(5, 9)),\n  },\n  key: {\n    type: String,\n    trim: true,\n    unique: true,\n  },\n});\n// eslint-disable-next-line func-names\ncacheSchema.pre('save', function (next) {\n  // Create a new ttl everytime a cache is created or modified\n  const cache = this;\n  cache.ttl = new Date();\n  next();\n});\n\n\nconst Cache = mongoose.model('Cache', cacheSchema);\n\nexport default Cache;\n"],"file":"Cache.js"}