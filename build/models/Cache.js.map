{"version":3,"sources":["../../src/models/Cache.js"],"names":["cacheSchema","mongoose","Schema","ttl","type","Date","expires","now","content","String","key","trim","pre","next","cache","Cache","model"],"mappings":";;;;;;;;;AACA;;AAEA,IAAMA,WAAW,GAAGC,qBAASC,MAAT,CAAgB;AAClCC,EAAAA,GAAG,EAAE;AACHC,IAAAA,IAAI,EAAEC,IADH;AAEHC,IAAAA,OAAO,EAAE,MAFN;AAGH,eAASD,IAAI,CAACE;AAHX,GAD6B;AAMlCC,EAAAA,OAAO,EAAE;AACPJ,IAAAA,IAAI,EAAEK;AADC,GANyB;AASlCC,EAAAA,GAAG,EAAE;AACHN,IAAAA,IAAI,EAAEK,MADH;AAEHE,IAAAA,IAAI,EAAE;AAFH;AAT6B,CAAhB,CAApB,C,CAcA;;;AACAX,WAAW,CAACY,GAAZ,CAAgB,MAAhB,EAAwB,UAAUC,IAAV,EAAgB;AACtC;AACA,MAAMC,KAAK,GAAG,IAAd;AACAA,EAAAA,KAAK,CAACX,GAAN,GAAY,IAAIE,IAAJ,EAAZ;AACAQ,EAAAA,IAAI;AACL,CALD;;AAQA,IAAME,KAAK,GAAGd,qBAASe,KAAT,CAAe,OAAf,EAAwBhB,WAAxB,CAAd;;eAEee,K","sourcesContent":["\nimport mongoose from 'mongoose';\n\nconst cacheSchema = mongoose.Schema({\n  ttl: {\n    type: Date,\n    expires: '5000',\n    default: Date.now,\n  },\n  content: {\n    type: String,\n  },\n  key: {\n    type: String,\n    trim: true,\n  },\n});\n// eslint-disable-next-line func-names\ncacheSchema.pre('save', function (next) {\n  // Create a new ttl everytime a cache is created or modified\n  const cache = this;\n  cache.ttl = new Date();\n  next();\n});\n\n\nconst Cache = mongoose.model('Cache', cacheSchema);\n\nexport default Cache;\n"],"file":"Cache.js"}